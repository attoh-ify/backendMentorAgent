# ğŸ§  Backend Mentor Agent

**Backend Mentor Agent** is an AI-powered backend development tutor built using the [Mastra AI framework](https://docs.mastra.ai/).  
It provides structured, conversational lessons, answers questions about backend concepts, and generates daily learning content using **Gemini 2.5 Pro**.

---

## ğŸš€ Overview

The agent acts as an intelligent mentor that can:

- ğŸ“š Teach backend development in a clear, structured way  
- ğŸ¯ Pick relevant topics or generate new ones automatically  
- ğŸ’¬ Answer technical questions and expand on related subtopics  
- ğŸ§© Persist memory about previously covered topics using a SQLite-based store  
- ğŸŒ Expose a JSON-RPC API endpoint for **A2A (Agent-to-Agent)** communication  

---

## ğŸ“‚ Project Structure

src/
- â”œâ”€â”€ mastra/
- â”‚ â”œâ”€â”€ index.ts # Main Mastra configuration and agent registration
- â”‚ â”œâ”€â”€ storage.ts # Local LibSQL (SQLite) storage configuration
- â”‚ â”œâ”€â”€ a2a/
- â”‚ â”‚ â””â”€â”€ router.ts # A2A API endpoint handler (JSON-RPC interface)
- â”‚ â””â”€â”€ agents/
- â”‚ â””â”€â”€ backendMentorAgent.ts # Core agent definition and behavior
- â””â”€â”€ package.json


---

## âš™ï¸ How It Works

### 1. Agent Definition (`backendMentorAgent.ts`)
The **Backend Mentor Agent** is configured with:
- A detailed **instruction prompt** that defines its teaching style and tone.
- A **Gemini 2.5 Pro** model for reasoning and content generation.
- A **LibSQL-based memory store** (`mastra.db`) for topic persistence.

```ts
export const backendMentorAgent = new Agent({
  name: "Backend Mentor",
  model: "google/gemini-2.5-pro",
  instructions: `You are "Backend Mentor" â€” an AI teacher for backend developers...`,
  memory: new Memory({
    storage: new LibSQLStore({
      url: "file:../mastra.db",
    }),
  }),
});
```

### 2. A2A Router (router.ts)

Defines an API route that lets other services or workflows communicate with the agent via JSON-RPC.

Endpoint:
POST /a2a/agent/:agentId

Example Payload:

```json
{
  "jsonrpc": "2.0",
  "id": "123",
  "method": "message/send",
  "params": {
    "message": {
      "role": "user",
      "parts": [{ "kind": "text", "text": "Teach me about caching in Node.js" }]
    }
  }
}
```

Example Response:
```json
{
  "jsonrpc": "2.0",
  "id": "123",
  "result": {
    "status": { "state": "completed" },
    "artifacts": [
      {
        "artifactId": "uuid",
        "name": "backendMentorAgentResponse",
        "parts": [{ "kind": "text", "text": "Caching is a method..." }]
      }
    ]
  }
}
```

### 3. Mastra Setup (index.ts)

The Mastra instance:

- Registers the backendMentorAgent

- Uses a local SQLite (:memory: or mastra.db)

- Sets up logging, observability, and the A2A route

```ts
export const mastra = new Mastra({
  agents: { backendMentorAgent },
  storage: new LibSQLStore({ url: ":memory:" }),
  logger: createLogger({
    name: "BackendMentorAgent",
    level: "info",
  }),
  observability: { default: { enabled: true } },
  server: {
    build: { openAPIDocs: true, swaggerUI: true },
    apiRoutes: [a2aAgentRoute],
  },
});
```

## ğŸ§‘â€ğŸ’» Running Locally
### 1ï¸âƒ£ Install Dependencies
```bash
npm install
```

If you encounter a lockfile mismatch error, run:

```bash
rm -rf node_modules package-lock.json
npm install
```

### 2ï¸âƒ£ Start the Agent in Development
```bash
npm run dev
```
This runs Mastra in watch mode and serves the API locally.

### 3ï¸âƒ£ Build for Production
```bash
npm run build
```

### 4ï¸âƒ£ Start in Production
```bash
npm start
```
This will launch the Mastra server and expose your A2A API.

ğŸ§­ Available API Routes
Method	Route	Description
POST	/a2a/agent/:agentId	Sends a JSON-RPC message to a specific agent
GET	/docs	Swagger UI (auto-generated)
GET	/openapi.json	OpenAPI spec file

## ğŸ§© Environment Details
- Runtime: Node.js 20+
- Framework: Mastra
- Database: SQLite (via LibSQL)
- Model: Google Gemini 2.5 Pro
- Memory: Persistent topic tracking

## ğŸ’¡ Example Usage
To get a lesson:
```bash
curl -X POST http://localhost:3000/a2a/agent/backendMentorAgent \
-H "Content-Type: application/json" \
-d '{
  "jsonrpc": "2.0",
  "id": "001",
  "method": "message/send",
  "params": {
    "message": {
      "role": "user",
      "parts": [{"kind": "text", "text": "Teach me about REST APIs"}]
    }
  }
}'
```

## ğŸ§¾ License

MIT License Â© 2025 â€” Backend Mentor Agent